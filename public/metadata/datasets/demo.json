{
    "id": "demo",
    "name": "Demo Dataset (Lineitem)",
    "sources": [
        "https://shell.duckdb.org/data/tpch/0_01/parquet/lineitem.parquet"
    ],
    "schema": [
        {
            "name": "l_orderkey",
            "type": "INTEGER"
        },
        {
            "name": "l_partkey",
            "type": "INTEGER"
        },
        {
            "name": "l_suppkey",
            "type": "INTEGER"
        },
        {
            "name": "l_linenumber",
            "type": "INTEGER"
        },
        {
            "name": "l_quantity",
            "type": "DECIMAL"
        },
        {
            "name": "l_extendedprice",
            "type": "DECIMAL"
        },
        {
            "name": "l_discount",
            "type": "DECIMAL"
        },
        {
            "name": "l_tax",
            "type": "DECIMAL"
        },
        {
            "name": "l_returnflag",
            "type": "VARCHAR"
        },
        {
            "name": "l_linestatus",
            "type": "VARCHAR"
        },
        {
            "name": "l_shipdate",
            "type": "DATE"
        },
        {
            "name": "l_commitdate",
            "type": "DATE"
        },
        {
            "name": "l_receiptdate",
            "type": "DATE"
        },
        {
            "name": "l_shipinstruct",
            "type": "VARCHAR"
        },
        {
            "name": "l_shipmode",
            "type": "VARCHAR"
        },
        {
            "name": "l_comment",
            "type": "VARCHAR"
        }
    ],
    "semantic": {
        "dimensions": [
            {
                "name": "l_orderkey",
                "label": "Order id",
                "dataType": "INTEGER",
                "sql": "l_orderkey"
            },
            {
                "name": "l_returnflag",
                "label": "Return Flag",
                "dataType": "VARCHAR",
                "sql": "l_returnflag"
            },
            {
                "name": "l_linestatus",
                "label": "Line Status",
                "dataType": "VARCHAR",
                "sql": "l_linestatus"
            },
            {
                "name": "l_shipdate",
                "label": "Ship Date",
                "dataType": "DATE",
                "sql": "l_shipdate"
            },
            {
                "name": "l_shipmode",
                "label": "Ship Mode",
                "dataType": "VARCHAR",
                "sql": "l_shipmode"
            }
        ],
        "measures": [
            {
                "name": "count_all",
                "sql": "COUNT(*)",
                "label": "Row Count"
            },
            {
                "name": "sum_qty",
                "sql": "SUM(l_quantity)",
                "label": "Total Quantity"
            },
            {
                "name": "avg_price",
                "sql": "AVG(l_extendedprice)",
                "label": "Avg Price",
                "display_decimals": 2
            },
            {
                "name": "total_price",
                "sql": "SUM(l_extendedprice)",
                "label": "Total Price",
                "display_decimals": 2
            },
            {
                "name": "qt_last_ship_date",
                "sql": "SUM(l_quantity)",
                "label": "Qtd (Última Ship Date)",
                "non_additive_dimension": {
                    "dimension_name": "l_shipdate",
                    "window_choice": "LAST_VALUE"
                }
            },
            {
                "name": "qt_last_ship_date_mode",
                "sql": "SUM(l_quantity)",
                "label": "Qtd (Última Ship Date por Mode)",
                "non_additive_dimension": {
                    "dimension_name": "l_shipdate",
                    "window_choice": "LAST_VALUE",
                    "window_groupings": {
                        "dimensions": [
                            "l_shipmode"
                        ]
                    }
                }
            },
            {
                "name": "qt_last_ship_date_group",
                "sql": "SUM(l_quantity)",
                "label": "Qtd (Última Ship Date no Grupo)",
                "non_additive_dimension": {
                    "dimension_name": "l_shipdate",
                    "window_choice": "LAST_VALUE",
                    "window_groupings": {
                        "all_additive_used": true
                    }
                }
            }
        ]
    }
}